(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1057:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>c});var t=s(5155),i=s(6874),l=s.n(i),n=s(6766),r=s(2115),o=s(5731);function c(){let[e,a]=(0,r.useState)(""),{user:s}=(0,o.A)(),[i,n]=(0,r.useState)([]),[c,m]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{try{m(!0);let e=await fetch("http://46.101.63.115:8000/api/destinations/",{cache:"no-store"});if(e.ok){let a=await e.json(),s=[];if(a.results&&Array.isArray(a.results)?s=a.results:Array.isArray(a)&&(s=a),s.length>0){let e=(e=>{for(let a=e.length-1;a>0;a--){let s=Math.floor(Math.random()*(a+1));[e[a],e[s]]=[e[s],e[a]]}return e})([...s]).slice(0,6);console.log("Mostrando ".concat(e.length," destinos aleatorios")),n(e)}}}catch(e){console.error("Error al cargar destinos destacados:",e)}finally{m(!1)}})()},[]),(0,t.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,t.jsx)("section",{className:"bg-gradient-to-r from-teal-500 to-blue-500 text-white py-20",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 flex flex-col items-center text-center",children:[(0,t.jsx)("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Descubre el mundo, un destino a la vez"}),(0,t.jsx)("p",{className:"text-xl md:text-2xl mb-10 max-w-3xl",children:"Gu\xedas, consejos y rutas personalizadas para que tus aventuras sean inolvidables"}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsx)(l(),{href:"/articulos",className:"bg-yellow-500 hover:bg-yellow-400 text-gray-900 font-bold py-3 px-8 rounded-lg transition-colors",children:"Explorar Art\xedculos"}),s?(0,t.jsx)(l(),{href:"/perfil",className:"bg-white hover:bg-gray-100 text-teal-700 font-bold py-3 px-8 rounded-lg transition-colors",children:"Mi Perfil"}):(0,t.jsx)(l(),{href:"/registro",className:"bg-white hover:bg-gray-100 text-teal-700 font-bold py-3 px-8 rounded-lg transition-colors",children:"Registrarse"})]})]})}),(0,t.jsx)("section",{className:"py-16 bg-gray-50",children:(0,t.jsxs)("div",{className:"container mx-auto px-4",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-center mb-12 text-gray-800",children:"Destinos Destacados"}),c?(0,t.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-500"})}):i.length>0?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map(e=>(0,t.jsx)(d,{destination:e},e.id))}):(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[(0,t.jsx)(d,{title:"Playas de Tailandia",description:"Arenas blancas, aguas cristalinas y naturaleza exuberante en el sudeste asi\xe1tico.",image:"/images/destinos/tailandia.jpg",link:"/destinos/tailandia"}),(0,t.jsx)(d,{title:"Monta\xf1as de Suiza",description:"Senderos alpinos, lagos de ensue\xf1o y pueblos pintorescos en el coraz\xf3n de Europa.",image:"/images/destinos/suiza.jpg",link:"/destinos/suiza"}),(0,t.jsx)(d,{title:"Ciudades de Jap\xf3n",description:"Tradici\xf3n y modernidad se fusionan en una experiencia cultural \xfanica en Asia.",image:"/images/destinos/japon.jpg",link:"/destinos/japon"}),(0,t.jsx)(d,{title:"Cartagena de Indias",description:"Ciudad colonial con playas paradis\xedacas en el Caribe colombiano.",image:"/images/destinos/cartagena.jpg",link:"/destinos/cartagena"}),(0,t.jsx)(d,{title:"Safari en Kenia",description:"Una aventura inolvidable entre la fauna salvaje africana.",image:"/images/destinos/kenia.jpg",link:"/destinos/kenia"}),(0,t.jsx)(d,{title:"Sidney y alrededores",description:"Costas impresionantes, cultura vibrante y experiencias \xfanicas en Australia.",image:"/images/destinos/sidney.jpg",link:"/destinos/sidney"})]}),(0,t.jsx)("div",{className:"text-center mt-12",children:(0,t.jsx)(l(),{href:"/destinos",className:"inline-block bg-teal-600 hover:bg-teal-700 text-white font-bold py-3 px-8 rounded-lg transition-colors",children:"Ver todos los destinos"})})]})}),(0,t.jsx)("section",{className:"py-16",children:(0,t.jsxs)("div",{className:"container mx-auto px-4",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-center mb-12 text-gray-800",children:"Explora por Categor\xeda"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-center",children:[(0,t.jsx)(u,{icon:"\uD83C\uDFD6️",label:"Playas",link:"/categorias/playas"}),(0,t.jsx)(u,{icon:"\uD83C\uDFD4️",label:"Monta\xf1as",link:"/categorias/montanas"}),(0,t.jsx)(u,{icon:"\uD83C\uDFD9️",label:"Ciudades",link:"/categorias/ciudades"}),(0,t.jsx)(u,{icon:"\uD83C\uDF7D️",label:"Gastronom\xeda",link:"/categorias/gastronomia"}),(0,t.jsx)(u,{icon:"\uD83C\uDF92",label:"Mochileros",link:"/categorias/mochileros"}),(0,t.jsx)(u,{icon:"\uD83D\uDC6A",label:"Familiar",link:"/categorias/familiar"}),(0,t.jsx)(u,{icon:"\uD83C\uDF3F",label:"Ecoturismo",link:"/categorias/ecoturismo"}),(0,t.jsx)(u,{icon:"\uD83C\uDFDB️",label:"Cultural",link:"/categorias/cultural"})]})]})}),(0,t.jsx)("section",{className:"py-16 bg-teal-600 text-white",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 text-center",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"\xbfQuieres recibir inspiraci\xf3n para tus viajes?"}),(0,t.jsx)("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"Suscr\xedbete a nuestro newsletter y recibe recomendaciones personalizadas, ofertas exclusivas y consejos de viaje."}),(0,t.jsxs)("form",{onSubmit:s=>{s.preventDefault(),alert("Gracias por suscribirte con: ".concat(e)),a("")},className:"flex flex-col sm:flex-row max-w-md mx-auto gap-2",children:[(0,t.jsx)("input",{type:"email",value:e,onChange:e=>a(e.target.value),placeholder:"Tu email",required:!0,className:"py-3 px-4 rounded-lg flex-grow text-gray-900 focus:outline-none"}),(0,t.jsx)("button",{type:"submit",className:"bg-yellow-500 hover:bg-yellow-400 text-gray-900 font-bold py-3 px-6 rounded-lg transition-colors",children:"Suscribirme"})]})]})})]})}let d=e=>{let{destination:a,title:s,description:i,image:r,link:o}=e,c=a?a.name:s||"",d=a?a.description.substring(0,120).replace(/<[^>]*>?/gm,"")+"...":i||"",u=a?"/destinos/".concat(a.slug):o||"#",m="";if(a)if(a.image&&a.image.startsWith("http"))m=a.image;else if(a.image)m="http://localhost:8000".concat(a.image);else if(a.country){let e=a.country.toLowerCase();if(e.includes("tailandia")||e.includes("thailand"))m="/images/destinos/tailandia.jpg";else if(e.includes("suiza")||e.includes("switzerland"))m="/images/destinos/suiza.jpg";else if(e.includes("jap\xf3n")||e.includes("japan"))m="/images/destinos/japon.jpg";else{var x;let e=(null==(x=a.continent_name)?void 0:x.toLowerCase())||"";m=e.includes("europa")?"/images/destinos/europa.jpg":e.includes("asia")?"/images/destinos/asia.jpg":e.includes("\xe1frica")?"/images/destinos/africa.jpg":"/images/destinos/default.jpg"}}else m="/images/destinos/default.jpg";else m=r||"/images/destinos/default.jpg";return(0,t.jsxs)("div",{className:"bg-white rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow",children:[(0,t.jsxs)("div",{className:"relative h-48",children:[(0,t.jsx)(n.default,{src:m,alt:c,fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 33vw, 33vw",className:"object-cover transition-transform hover:scale-105 duration-500",onError:e=>{e.target.src="/images/destinos/default.jpg"}}),(null==a?void 0:a.continent_name)&&(0,t.jsx)("div",{className:"absolute top-2 left-2 bg-teal-600 text-white text-xs px-2 py-1 rounded-full",children:a.continent_name})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-2 text-gray-900",children:c}),(0,t.jsx)("p",{className:"text-gray-700 mb-4",children:d}),(0,t.jsx)(l(),{href:u,className:"text-teal-600 hover:text-teal-800 font-medium transition-colors",children:"Leer m\xe1s →"})]})]})},u=e=>{let{icon:a,label:s,link:i}=e;return(0,t.jsxs)(l(),{href:i,className:"bg-white p-6 rounded-lg shadow hover:shadow-md transition-shadow flex flex-col items-center",children:[(0,t.jsx)("span",{className:"text-4xl mb-2",children:a}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:s})]})}},5379:(e,a,s)=>{Promise.resolve().then(s.bind(s,1057))},5695:(e,a,s)=>{"use strict";var t=s(8999);s.o(t,"useParams")&&s.d(a,{useParams:function(){return t.useParams}}),s.o(t,"usePathname")&&s.d(a,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}})},5731:(e,a,s)=>{"use strict";s.d(a,{A:()=>r,default:()=>o});var t=s(5155),i=s(2115),l=s(5695);let n=(0,i.createContext)(void 0),r=()=>{let e=(0,i.useContext)(n);if(void 0===e)throw Error("useAuth debe ser usado dentro de un AuthProvider");return e};function o(e){let{children:a}=e,[s,r]=(0,i.useState)(null),[o,c]=(0,i.useState)(null),[d,u]=(0,i.useState)(!0),[m,x]=(0,i.useState)(null),g=(0,l.useRouter)();(0,i.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("token");if(e){c(e);let a=await fetch("http://localhost:8000/api/users/profile/",{headers:{Authorization:"Bearer ".concat(e)}});if(a.ok){let e=await a.json();r(e)}else localStorage.removeItem("token"),c(null),r(null)}}catch(e){console.error("Error verificando sesi\xf3n:",e)}finally{u(!1)}})()},[]);let h=async(e,a)=>{u(!0),x(null);try{let s=await fetch("http://localhost:8000/api/token/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:a})});if(s.ok){let e=await s.json();localStorage.setItem("token",e.access),localStorage.setItem("refresh_token",e.refresh),c(e.access);let a=await fetch("http://localhost:8000/api/users/profile/",{headers:{Authorization:"Bearer ".concat(e.access)}});if(a.ok){let e=await a.json();return r(e),!0}}else{let e=await s.json();return x(e.detail||"Error al iniciar sesi\xf3n"),!1}}catch(e){x("Error de conexi\xf3n"),console.error(e)}finally{u(!1)}return!1},p=async(e,a,s,t)=>{u(!0),x(null);try{let n={email:e,password:a,...s&&{first_name:s},...t&&{last_name:t}},r=await fetch("http://localhost:8000/api/users/register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(r.ok)return await h(e,a);{var i,l;let e=await r.json();return x((null==(i=e.email)?void 0:i[0])||(null==(l=e.password)?void 0:l[0])||"Error al registrarse"),!1}}catch(e){return x("Error de conexi\xf3n"),console.error(e),!1}finally{u(!1)}};return(0,t.jsx)(n.Provider,{value:{user:s,token:o,login:h,register:p,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("refresh_token"),c(null),r(null),g.push("/")},isAuthenticated:!!s&&!!o,isLoading:d,error:m},children:a})}}},e=>{var a=a=>e(e.s=a);e.O(0,[874,766,441,684,358],()=>a(5379)),_N_E=e.O()}]);